# 32비트와 64비트

## 사전 지식
비트는 0이나 1을 저장할 수 있는 공간입니다. 한 비트가 2가지 상태 중 하나를 저장할 수 있으므로, n비트는 2<sup>n</sup>가지 상태 중 하나를 저장할 수 있습니다. n비트로 정수를 나타낸다는 것은, 2<sup>n</sup>가지 상태를 각각 정수 하나에 대응시켜 0~(2<sup>n</sup>−1) 또는 -2<sup>n-1</sup>~(2<sup>n-1</sup>-1) 범위의 정수를 나타내는 것을 말합니다. 대략적으로 말해서, 32비트로는 9자리, 64비트로는 18자리 정수를 무리 없이 나타낼 수 있습니다.

포인터 자료형은 특정 메모리 공간의 주소를 나타내는 자료형입니다. 메모리 공간은 1바이트(8비트)의 구역으로 나뉘어, 각 구역마다 주소를 부여받습니다.

## 워드 크기
프로세서는 특정한 수의 비트로 이루어진 데이터를 처리합니다. 예를 들어, 한 번에 32비트를 처리한다는 것은 프로세서가 32비트 정수의 덧셈/뺄셈/곱셈/나눗셈 등을 한 번에 할 수 있다는 뜻입니다. 여기서 32비트를 워드 크기라고 합니다.

32비트 아키텍처가 널리 쓰이다가, 2008년을 전후하여 PC 시장에서 64비트가 주도권을 잡게 되었습니다. 현대의 컴퓨터는 주로 64비트 아키텍처를 사용합니다.

워드 크기의 변화는 메모리 주소와 관련이 깊습니다. 메모리 주소는 포인터 자료형을 사용해 다루게 되는데, 포인터 자료형의 크기가 보통 워드 크기와 일치합니다. 32비트 포인터로는 2<sup>32</sup>개의 메모리 공간을 나타낼 수 있으므로, 2<sup>32</sup>바이트 = 4GiB의 메모리만 나타낼 수 있습니다. 이는 32비트 아키텍처에서 4GiB를 넘는 메모리를 사용하기가 불가능하거나 매우 어렵다는 것을 뜻합니다.

하드웨어와 소프트웨어가 발전하면서 PC에서 4GiB를 넘는 메모리를 사용할 필요가 생겼고, 이에 따라 64비트 아키텍처가 쓰이게 되었습니다. 언제 워드 크기가 다시 변할지 알 수 없지만, 현재까지는 프로세서가 64비트를 넘는 데이터를 한 번에 처리해야 하거나, 64비트를 넘는 포인터가 필요한 경우가 적어 당분간은 64비트가 쓰일 것으로 예상됩니다.

## IA-32와 x86-64
PC에서 주로 쓰이는 32비트 아키텍처는 IA-32(i386, x86)이고, 이를 64비트로 확장한 것이 x86-64(x64, AMD64)입니다. 컴파일 대상 아키텍처를 선택하거나, 소프트웨어를 다운로드할 때 자주 보게 됩니다. 현재 사용하고 있는 아키텍처를 확인하는 방법은 다음과 같습니다.
* Windows: <kbd><samp>제어판</samp></kbd> > <kbd><samp>시스템 및 보안</samp></kbd> > <kbd><samp>시스템</samp></kbd> > <samp>시스템</samp> > <samp>시스템 유형</samp>
* Unix-like: 터미널에 <kbd>uname -m</kbd>

대부분의 64비트 시스템에서는 32비트 소프트웨어를 실행할 수 있도록 호환 모드를 제공합니다. x86-64 아키텍처에서 IA-32용 운영 체제를 사용할 수 있도록 레거시 모드를 지원하며, Windows에서는 WoW64, Unix-like 운영 체제에서는 MultiArch를 통해 x86-64용 운영체제에서 IA-32용 프로그램을 실행할 수 있습니다. 이런 과정은 사용자가 별도의 조작을 하지 않아도 동작하므로, 보통 소프트웨어가 32비트인지 64비트인지는 잘 신경 쓰지 않습니다.

프로그램의 워드 크기는 잘 드러나지 않지만, 주변에서 쉽게 볼 수 있는 예시로 64비트 Windows에 있는 <samp>Program Files (x86)</samp> 디렉토리가 있습니다. 이 디렉토리 안에 있는 프로그램은 WoW64를 통해 구동되는 IA-32용 프로그램입니다.

## 더 읽기
* Wikipedia의 [64-bit computing](https://en.wikipedia.org/wiki/64-bit_computing#64-bit_applications)
